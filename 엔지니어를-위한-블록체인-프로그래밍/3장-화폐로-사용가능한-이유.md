*엔지니어를 위한 블록체인 프로그래밍(다고모리 데루히로 저)를 정리한 글입니다*

# 3장 화폐로 사용이 가능한 이유

- 비트코인은 실물이 없는데, 어떻게 소유자를 변경할까?

비트코인을 다른 사람에게 이전하는 과정은 자신의 열쇠(비밀키)로 자물쇠(공개키) 열어 새로운 소유자의 열쇠로만 열 수 있는 자물쇠를 거는 과정 <br/>

### Address
> 비트코인 송금 시 송금 대상은 어드레스.

- 일반적인 어드레스 생성 과정(간략히)

SHA-256으로 공개키 해시값 생성 -> 이 해시값을 RIPEMD-160으로 해시값 생성 -> 이 해시값을 `Base58Check`로 인코딩

- Base58Check 인코딩

Base58은 구분하기 어려운 0(숫자), O(알파벳 대문자), l(알파벳 엘 소문자), I(알파벳 아이 대문자)는 구분이 헷갈리기 때문에 사용하지 않는다. Base58의 인코딩 표는 아래 참고

![base58 table](https://cdn-images-1.medium.com/max/1600/1*GCp8FYepAEXgAuEqEk8D3w.png)

Base58Check은 Base58에 checksum을 내장한 것


- 어드레스 생성 과정
1. 공개키의 해시값 앞에 Version Prefix를 붙임
2. 'Version Prefix + 공개키 해시값'을 SHA-256으로 해시값 생성
3. 2번의 해시값을 다시 SHA-256으로 해시값 생성
4. 3번의 해시값의 맨 앞 4byte를 뒤에 checksum으로 붙임
5. 'Version Prefix + 공개키 해시값'을 Base58로 인코딩

<br/>

### 전자 지갑
> 좁은 의미로는 전자지갑은 **비밀키를 관리하는 것**. 넓게는 송금, 잔액확인, 키와 어드레스 관리 등의 기능 제공함.<br/>
전자 지갑안에 비트코인을 보관하는 것이 아님! (분산장부에 소유권이 기재되는 형태로 보관됨)

- 송금이 실제로 이루어지는 과정<br/>
A -> B 송금 시
1. 분산장부에서 A가 소유권을 가진 비트코인에 자물쇠가 걸려있음. 소유권을 B에게 이전하기 위해 A의 비밀키를 좌물쇠로 푼다.
2. B의 비밀키로만 풀 수 있는 좌물쇠를 건다. (이제 A는 열 수 없음)

### 전자 지갑의 종류

- PC 전자 지갑: Bitcoin Core(비트워크 네트워크의 공식 전자 지갑. 최초 기동 시 모든 블록을 내려받아 상당한 용량 사용), Electrum(경량)

- 모바일 전자 지갑: breadwallet(ios), Copay(ios, Android), Mycelium(Android)

- 거래소 전자 지갑: Poloniex

- 페이퍼 월릿(비밀키를 종이에 인쇄해둠. 백업 수단 ): bitaddress.org
